var RTE=function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.nodes=t}prepend(t){const e=this.nodes[0].childNodes[0];return t.forEach(t=>{t instanceof s?this.nodes[0].insertBefore(t.nodes[0],e):this.nodes[0].insertBefore(t,e)}),this}append(t){return t.forEach(t=>{t instanceof s?this.nodes[0].appendChild(t.nodes[0]):this.nodes[0].appendChild(t)}),this}appendTo(t){return t instanceof s?this.each(e=>t.nodes[0].appendChild(e)):this.each(e=>t.appendChild(e)),this}text(t=!1){if(!t){if(1==this.nodes.length)return this.nodes[0].innerText.trim();{const t=[];return this.nodes.forEach(e=>t.push(e.innerText.trim())),t}}return this.nodes.forEach(e=>e.innerText=t.trim()),this}html(t=!1){if(!t){if(1==this.nodes.length)return this.nodes[0].innerHTML;{const t=[];return this.nodes.forEach(e=>t.push(e.innerHTML)),t}}return this.nodes.forEach(e=>e.innerHTML=t),this}value(t=!1){if(!t){if(1==this.nodes.length)return this.nodes[0].value.trim();{const t=[];return this.nodes.forEach(e=>t.push(e.value.trim())),t}}return this.nodes.forEach(e=>e.value=t.trim()),this}dom(){return 1===this.nodes.length?this.nodes[0]:this.nodes}hide(){return this.addClass("hidden"),this}show(){return this.removeClass("hidden"),this}addClass(t){return this.nodes.forEach(e=>e.classList.add(t)),this}removeClass(t){return this.nodes.forEach(e=>e.classList.remove(t)),this}each(t){return this.nodes.forEach((e,i)=>t(e,i)),this}css(t){return this.each(e=>{for(let i in t)e.style[i]=t[i]}),this}attr(t,e=!1){if(!e){if(1==this.nodes.length)return this.nodes[0].getAttribute(t);{const e=[];return this.each(i=>e.push(i.getAttribute(t))),e}}return this.each(i=>i.setAttribute(t,e)),this}on(t,e,i=0){return this.each(s=>{let n;s.addEventListener(t,t=>{i?(clearTimeout(n),n=setTimeout(()=>e(this,t),i)):e(this,t)})}),this}}const n=function(t,e=""){return new s([function(t,e){const i=t.split(".");let s=!1;i[0].includes("#")?(i[0]=i[0].split("#"),s=i[0][1],t=i[0][0]):t=i[0];const n=document.createElement(t);n.innerText=e,s&&n.setAttribute("id",s);for(let t=1;t<i.length;t++)n.classList.add(i[t]);return n}(t,e)])},a=function(t){return new s(function(t){return document.querySelectorAll(t)}(t))};var o=class{constructor(t){this.editor=t,this.prompt=n("div.rte-prompt.hidden"),this.src=n("input"),this.alt=n("input"),this.width=n("input"),this.height=n("input"),this.class=n("input"),this.id=n("input"),this.floatLeft=n("input"),this.floatRight=n("input"),this.init()}init(){this.src.attr("type","text").attr("class","form-control").attr("placeholder","Source..."),this.alt.attr("type","text").attr("class","form-control").attr("placeholder","Alt..."),this.width.css({width:"90px",marginRight:"5px"}).attr("type","text").attr("class","form-control inline").attr("placeholder","Width..."),this.height.css({width:"90px"}).attr("type","text").attr("class","form-control inline").attr("placeholder","Height..."),this.class.attr("type","text").attr("class","form-control").attr("placeholder","Class..."),this.id.attr("type","text").attr("class","form-control").attr("placeholder","Id..."),this.floatLeft.attr("type","radio").attr("name","imageFloat"),this.floatRight.attr("type","radio").attr("name","imageFloat"),this.appendChildren()}appendChildren(){this.prompt.append([this.src,this.alt,this.width,this.height,this.class,this.id,n("label","Float left"),this.floatLeft,n("label","Float right"),this.floatRight,n("div.clearfix").append([n("button","Cancel").attr("class","btn dark").on("click",()=>this.prompt.hide()),n("button","Insert").attr("class","btn dark").on("click",()=>{this.editor.image(this.src.value(),this.alt.value(),this.class.value(),this.id.value(),this.floatLeft.dom(),this.floatRight.dom()),this.prompt.hide(),this.reset()})])])}reset(){this.src.value(""),this.alt.value(""),this.width.value(""),this.height.value(""),this.class.value(""),this.id.value(""),this.floatLeft.dom().checked=!1,this.floatRight.dom().checked=!1}};var r=class{constructor(t){this.command=t,this.prompt=n("div.rte-prompt.hidden"),this.url=n("input"),this.text=n("input"),this.target=n("input"),this.init()}init(){this.url.css({marginBottom:"5px"}).attr("type","text").attr("class","form-control").attr("placeholder","URL..."),this.text.attr("type","text").attr("class","form-control").attr("placeholder","Text..."),this.target.attr("type","checkbox"),this.appendChildren()}appendChildren(){this.prompt.append([this.url,this.text,this.target,n("label","Open in new tab"),n("div.clearfix").append([n("button","Cancel").attr("class","btn dark").on("click",()=>this.prompt.hide()),n("button","Insert").attr("class","btn dark").on("click",()=>{this.command.link(this.url.value(),this.text.value(),this.target.dom()),this.prompt.hide(),this.reset()})])])}reset(){this.target.dom().checked=!1,this.url.value(""),this.text.value("")}};var h=class{constructor(t){this.editor=t,this.prompt=n("div.rte-prompt.hidden"),this.src=n("input"),this.alt=n("input"),this.width=n("input"),this.height=n("input"),this.class=n("input"),this.id=n("input"),this.controls=n("input").attr("type","checkbox"),this.loop=n("input").attr("type","checkbox"),this.autoplay=n("input").attr("type","checkbox"),this.floatLeft=n("input"),this.floatRight=n("input"),this.init()}init(){this.src.attr("type","text").attr("class","form-control").attr("placeholder","Source..."),this.alt.attr("type","text").attr("class","form-control").attr("placeholder","Alt..."),this.width.css({width:"90px",marginRight:"5px"}).attr("type","text").attr("class","form-control inline").attr("placeholder","Width..."),this.height.css({width:"90px"}).attr("type","text").attr("class","form-control inline").attr("placeholder","Height..."),this.class.attr("type","text").attr("class","form-control").attr("placeholder","Class..."),this.id.attr("type","text").attr("class","form-control").attr("placeholder","Id..."),this.floatLeft.attr("type","radio").attr("name","videoFloat"),this.floatRight.attr("type","radio").attr("name","videoFloat"),this.appendChildren()}appendChildren(){this.prompt.append([this.src,this.alt,this.width,this.height,this.class,this.id,n("label","Controls"),this.controls,n("label","Autoplay"),this.autoplay,n("label","Loop"),this.loop,n("div"),n("label","Float left"),this.floatLeft,n("label","Float right"),this.floatRight,n("div.clearfix").append([n("button","Cancel").attr("class","btn dark").on("click",()=>this.prompt.hide()),n("button","Insert").attr("class","btn dark").on("click",()=>{this.editor._video(this.src.value(),this.className.value(),this.id.value(),this.width.value(),this.height.value(),this.floatLeft.dom(),this.floatRight.dom(),this.autoplay.dom(),this.controls.dom(),this.loop.dom()),this.prompt.hide(),this.reset()})])])}reset(){this.src.value(""),this.width.value(""),this.height.value(""),this.class.value(""),this.id.value(""),this.autoplay.dom().checked=!1,this.controls.dom().checked=!1,this.loop.dom().checked=!1,this.floatLeft.dom().checked=!1,this.floatRight.dom().checked=!1}};const l=["Times New Roman","Arial","Helvetica","Times","Courier New","Verdana","Georgia","Palatino","Garamond","Bookman","Comic Sans MS","Trebuchet MS","Arial Black","Impact"].map(t=>n("option",t).attr("value",t)),c=["1","2","3","4","5","6","7"].map(t=>n("option","Font size "+t).attr("value",t)),d=["H1","H2","H3","H4","H5","H6"].map(t=>n("option","Heading "+t.substr(1)).attr("value",t));var p=class{constructor(t){this.prompts=[new r(t).prompt,new o(t).prompt,new h(t).prompt],this.command=t,this.options=n("div.rte-e-o"),this.init()}init(){this.options.append([...this.makeFormatOptions(),...this.makeFontOptions(),n("select.form-control.inline").on("change",t=>this.command.heading(t.value())).on("focus",t=>t.dom().selectedIndex=-1).append(d),...this.makeTextAlignmentOptions(),...this.makeColorOptions(),...this.makeListOptions(),...this.makePromptOptions()])}makeTextAlignmentOptions(){return[n("span.rte-align-btn.rte-align-center").html("<span></span><span></span><span></span><span></span><span></span>").on("click",()=>this.command.alignCenter()),n("span.rte-align-btn.rte-align-right").html("<span></span><span></span><span></span><span></span><span></span>").on("click",()=>this.command.alignRight()),n("span.rte-align-btn.rte-align-left").html("<span></span><span></span><span></span><span></span><span></span>").on("click",()=>this.command.alignLeft()),n("span.rte-align-btn.rte-align-justify").html("<span></span><span></span><span></span><span></span><span></span>").on("click",()=>this.command.justify())]}makeColorOptions(){return[n("input").attr("type","color").value("#ffffff").on("change",t=>this.command.backgroundColor(t.value())),n("input").attr("type","color").on("change",t=>this.command.color(t.value()))]}makePromptOptions(){return[n("span.rte-link").html("<span></span>").on("click",()=>this.prompts[0].show()),n("span.rte-image").html("<span></span>").on("click",()=>this.prompts[1].show()),n("span.rte-video").html("<span></span>").on("click",()=>this.prompts[2].show())]}makeListOptions(){return[n("span.rte-list.rte-o-list").html("<span></span><span></span><span></span>").on("click",()=>this.command.orderedList()),n("span.rte-list.rte-u-list").html("<span></span><span></span><span></span>").on("click",()=>this.command.unorderedList())]}makeFormatOptions(){return[n("span","B").on("click",()=>this.command.bold()),n("span","I").on("click",()=>this.command.italic()),n("span","S").on("click",()=>this.command.strikeThrough()),n("span","U").on("click",()=>this.command.underline()),n("span","__").on("click",()=>this.command.horizontalRule()),n("span").html("x<sup>2</sup>").on("click",()=>this.command.superscript()),n("span").html("x<sub>2</sub>").on("click",()=>this.command.subscript())]}makeFontOptions(){return[n("select.form-control.inline").on("change",t=>this.command.font(t.value())).on("focus",t=>t.dom().selectedIndex=-1).append(l),n("select.form-control.inline").on("change",t=>this.command.fontSize(t.value())).on("focus",t=>t.dom().selectedIndex=-1).append(c)]}};var u=class{constructor(t,e){this.config=t,this.iframe=e.dom(),this.editor=this.iframe.contentWindow||this.iframe.contentDocument,this.editor.document&&(this.editor=this.editor.document),this.editor.designMode="on",this.body=this.editor.body,this.transferTimeout=null,this.init()}init(){this.config.target&&(this.body.innerHTML=this.config.target.value),this.config.css&&this.appendStylesheet([this.config.css],!1),this.appendStylesheet(this.config.import),this.body.onkeyup=(t=>{27==t.keyCode?this.breakFromElement():this.onContentChanged()}),a("body").on("keyup",(t,e)=>{27==e.keyCode&&this.breakFromElement()})}breakFromElement(){this.body.appendChild(n("div","...").dom())}onContentChanged(){clearTimeout(this.transferTimeout),this.transferTimeout=setTimeout(()=>{const t=this.body.innerHTML;this.config.target&&(this.config.target.value=t),this.config.onContentChange(t)},this.config.delay)}appendStylesheet(t,e=!0){const i=e?this.editor.head:a("head");t.forEach(t=>{n("link").attr("rel","stylesheet").attr("type","text/css").attr("href",t).appendTo(i)})}selection(){return this.editor.getSelection().toString()}backgroundColor(t){this.exec("backColor",!1,t)}color(t){this.exec("foreColor",!1,t)}bold(){this.exec("bold")}italic(){this.exec("italic")}superscript(){this.exec("superscript")}underline(){this.exec("underline")}strikeThrough(){this.exec("strikeThrough")}subscript(){this.exec("subscript")}alignCenter(){this.exec("justifyCenter")}alignLeft(){this.exec("justifyLeft")}alignRight(){this.exec("justifyRight")}justify(){this.exec("justifyFull")}font(t){this.exec("fontName",!1,t)}fontSize(t){this.exec("fontSize",!1,t)}horizontalRule(){this.exec("insertHorizontalRule")}heading(t){const e=this.selection();this.html(`<${t}>${""!=e?e:"Heading"}</${t}>`)}orderedList(){this.exec("insertOrderedList")}unorderedList(){this.exec("insertUnorderedList")}link(t,e,i){i=i.checked?"target='_blank'":"",this.html(`<a href='${t} ${i}>${e}</a>`)}image(t,e,i,s,n,a){let o="";n.checked?o="style='float:left;'":a.checked&&(o="style='float:right;'"),""!=i&&(i=`class='${i}'`),""!=s&&(s=`id='${s}'`),width=""!=width?`width='${width}'`:"",height=""!=height?`height='${height}'`:"",this.html(`\n      <img ${i} ${s} ${o} ${width} ${height} \n        src='${t}' alt='${e}'\n      >\n    `)}_video(t,e,i,s,n,a,o,r,h,l){let c="";a.checked?c="style='float:left;'":o.checked&&(c="style='float:right;'"),""!=e&&(e=`class='${e}'`),""!=i&&(i=`id='${i}'`),s=""!=s?`width='${s}'`:"",n=""!=n?`height='${n}'`:"",h=h.checked?"controls":"",r=r.checked?"autoplay":"",l=l.checked?"loop":"",this.html(`\n      <video ${e} ${i} ${s} ${n} ${c}\n        src='${t}' ${h} ${r} ${l}>\n        Your browser does not support video tag\n      </video>\n    `)}html(t){this.exec("insertHTML",!1,t)}exec(...t){this.editor.execCommand(...t),this.onContentChanged()}},m=function(t,e){const i=n("iframe").appendTo(t),s={target:t.attr("data-target")?a(`#${t.attr("data-target")}`).dom():null,delay:t.attr("data-delay")?parseFloat(t.attr("data-delay")):300,import:t.attr("data-import")?t.attr("data-import").split(","):[],css:t.attr("data-css"),onContentChange:()=>{}};e=Object.assign(s,e);const o=new u(e,i),r=new p(o);return t.prepend([r.options,...r.prompts]),o.editor};i.d(e,"init",function(){return k}),i.d(e,"content",function(){return x});const f=a("#RTE");let g;function k(t={}){g=m(f,t)}function x(t=!1){if(!t)return g.body.innerHTML;g.body.innerHTML=t}}]);